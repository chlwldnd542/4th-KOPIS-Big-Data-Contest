# 🎭 오버부킹 예매 시스템 시뮬레이션: 뉴스벤더 모델 기반 최적화

> **KOPIS 빅데이터 공모전 출품작**  
> 팀명: **뀨융**

## 📌 프로젝트 개요

공연 예매 시장에서는 공연이 다가올수록 **티켓 취소가 빈번**하게 발생하고,  
반대로 인기 공연의 경우 예매 시작과 동시에 **빠르게 매진**되는 문제가 있습니다.  
이러한 문제를 해결하기 위해, 본 프로젝트는 **항공사에서 사용하는 '오버부킹' 개념을 공연 예매 시스템에 도입**하고,  
**취소 예측 모델 + 뉴스벤더 모델 기반의 티켓 추가 판매 시뮬레이션**을 수행했습니다.


## 🧠 프로젝트 목표

- 🎫 **취소 예측 모델**을 활용해 공연 당일의 취소 가능성을 사전에 예측  
- 📊 **뉴스벤더(Newsvendor) 모델**을 이용해 최적의 오버부킹 수량 도출  
- 💰 **공연사 수익 향상**, 🙋 **관객 만족도 향상**, ❌ **빈좌석 최소화**를 동시에 달성

---

## 🗂 데이터 구성 및 전처리

- **데이터 출처**: KOPIS 제공, 2023년 블루스퀘어 신한카드홀 ‘레베카’ 뮤지컬 예매 데이터  
- **총 데이터 수**: 287,244건 → 학습/테스트 데이터: 284,600건  
- 주요 컬럼:
  - 예매/취소 여부
  - 성별, 연령대, 좌석 등급
  - 결제 방식, 할인율
  - 날짜, 요일, 주말/공휴일 여부 등

> 🎯 11월 19일 공연 데이터(2,644건)를 기반으로 실제 적용 시뮬레이션 수행

---

## 🤖 모델링: 취소 예측

| Model        | Accuracy | F1 Score | Precision | Recall  |
|--------------|----------|----------|-----------|---------|
| RandomForest | 0.7665   | 0.7539   | 0.7482    | 0.7597  |
| LightGBM     | 0.7405   | 0.7206   | 0.7305    | 0.7109  |
| XGBoost      | 0.7585   | 0.7453   | 0.7400    | 0.7506  |
| CatBoost     | 0.7008   | 0.7349   | 0.6303    | 0.8812  |
| **Ensemble** | 0.7563   | **0.7647** | 0.7009  | **0.8413** |

- 최종 모델로 **RandomForest** 선택  
- **보상금 리스크(FP)**와 **빈좌석 리스크(FN)** 고려하여 threshold 조정

## 📈 뉴스벤더 모델 적용

### 가정
- 좌석 수: 1,581석
- 티켓 가격: 144,150원 (고정)
- 보상금: 티켓 가격의 2배 / 3배 / 4배 실험
- 취소 수수료 수익은 제외

### 결과 요약
| 보상금 | 추가 판매 티켓 수 | 기대 수익 | 추가 수익 | 고객 만족도 | 리스크 |
|--------|------------------|-----------|------------|---------------|---------|
| 2배    | 26               | 235,446,602 | +7,544,329 | 하            | 상      |
| 3배    | 20               | 234,875,405 | +6,973,132 | 중            | 중      |
| 4배    | 15               | 234,597,727 | +6,695,455 | 상            | 하      |

## 💡 정책 제안

- 🔁 **고정 취소 수수료 정책 전환**: 취소 가능성을 예측해 불필요한 수수료 부담 완화  
- 🪙 **보상금 최소화 전략**: 리스크 분석 기반 오버부킹 수량 조절로 비용 최적화  
- ✅ **실수요자 중심 좌석 배정**: 선착순 좌석 배정 및 등급별 판매 전략 도입

---

## ✅ 기대 효과

### 공연사
- 빈자리 최소화로 매출 극대화  
- 공연 퀄리티 유지  
- 시장 활성화

### 소비자
- 더 많은 예매 기회  
- 취소 부담 완화  
- 공연 몰입도 향상

---

## ⚠️ 한계점 및 향후 과제

- 데이터 결측치로 인한 좌석 등급별 분석 한계  
- 수요 분포 동일 가정의 단순화 문제  
- 예측 모델 성능 향상이 필요

---

## 📎 팀 정보

- 팀명: **뀨융**
- 프로젝트: [KOPIS 빅데이터 공모전](https://www.kopis.or.kr/)
- 사용 기술: Python (pandas, scikit-learn, xgboost, catboost, lightgbm), Jupyter, matplotlib

---


